extern:
  models:
    - gpt-4-0613
    - gpt-4-0314
  save_extern_path: ".data/external"

indexing:
  index_name: Default
  dataset_name_or_url: justatom
  index_by: keywords
  model_name_or_path: intfloat/multilingual-e5-base
  batch_size: 16
  similarity: l2
  filters_path: null

clustering:
  embedder:
    model_name_or_path: intfloat/multilingual-e5-base
    pooling_mode: mean
    prefix: "query: "

  transformers_backend:
    batch_size: 10

  bertopic:
    top_n_words: 10
    n_gram_range: [1, 1]
    min_topic_size: 5
    calculate_probabilities: false

  umap:
    n_components: 2
    n_neighbors: 3
    min_dist: 0.1
    metric: cosine


tune:
  batch_size: 16
  loss: triplet
  max_epochs: 10
  loss_props:
    margin: 0.22
  log_metrics: wandb
  log_metrics_props:
    log_loss_every: 1
    val_check_interval: 10
    do_eval_every: 100
  early_stopping: 


model:
  ic:
    num_conv_blocks: 10
    kernel_size: 3
    hid_dim: 512
  query_encoder: null
  passage_encoder: null


log:
  log_batch_metrics: true
  log_epoch_metrics: true
